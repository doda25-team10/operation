groups:
  - name: myapp-alerts
    rules:
      - alert: MyAppHighErrorRate
        expr: |
          sum(rate(http_server_requests_seconds_count{job="{{ include "myapp.name" . }}",status=~"5.."}[5m])) > 5
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "High 5xx rate detected for {{ include "myapp.name" . }}"
          description: "The application has produced more than 5 five-hundred responses per second over the last five minutes."

